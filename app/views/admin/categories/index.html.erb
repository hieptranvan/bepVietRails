<% provide :title, t(".title") %>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
        <div class="card">
          <div class="card-header" data-background-color="purple">
            <h4 class="title">
              <%= t :manager, managed: t(".title") %>
            </h4>
          </div>
          <div class="card-content table-responsive">
            <button class="btn btn-primary btn-round btn-just-icon pull-right" data-toggle="modal" data-target="#modal-add-food"
              onclick="openModalNewCategory(1, '<%= t".base_category" %>')">
              <i class="material-icons">add</i>
            </button>
            <table class="table table-hover">
              <thead class="text-primary">
                <th><%= t :id %></th>
                <th><%= t ".name" %></th>
                <th><%= t ".left" %></th>
                <th><%= t ".right" %></th>
                <th></th>
              </thead>
              <tbody>
                <% @categories.each do |category| %>
                  <%= render "category", category: category %>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
<!--     <div class="col-md-12">
      <div class="card">
        <div class="card-header" data-background-color="purple">
          <h4 class="title">
            <%= t :manager, managed: t(".title") %>
          </h4>
          <p class="category"><%= t ".category_tree"%></p>
        </div>
        <div class="card-content table-responsive">
          <table class="table table-hover">
            <thead class="text-primary">
              <th><%= t :id %></th>
              <th><%= t ".name" %></th>
              <th><%= t ".left" %></th>
              <th><%= t ".right" %></th>
              <th></th>
            </thead>
            <tbody>
              <% @categories.each do |category| %>
                <% if @ends.include? (category.left) %>
                    </tbody></table></td></tr>
                    <% @ends.delete (category.left) %>
                <% end %>
                <%= render "category", category: category %>
                <% unless category.leaf_node? %>
                  <% @ends.push category.right + 1 %>
                  <tr>
                    <td></td>
                    <td colspan="4">
                      <table class="table table-hover">
                        <thead class="text-primary">
                          <th><%= t :id %></th>
                          <th><%= t ".name" %></th>
                          <th><%= t ".left" %></th>
                          <th><%= t ".right" %></th>
                          <th></th>
                        </thead>
                        <tbody>
                <% end %>
              <% end %>
              <% @ends.size.times do %>
                </tbody></table></td></tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div> -->
    <div class="col-md-12">
      <div class="card">
        <div class="card-header" data-background-color="purple">
          <h4 class="title">
            <%= t :manager, managed: t(".title") %>
          </h4>
          <p class="category"><%= t ".category_tree"%></p>
        </div>
        <div class="card-content table-responsive">
           <div class="chart" id="custom-colored"> --@-- </div>
              <script>

              var chart_config = {
                  chart: {
                      container: "#custom-colored",

                      nodeAlign: "BOTTOM",

                      connectors: {
                          type: 'step'
                      },
                      node: {
                          HTMLclass: 'nodeExample1'
                      }
                  },
                  // nodeStructure: {
                  //     text: {
                  //         name: "Mark Hill",
                  //         title: "Chief executive officer",
                  //         contact: "Tel: 01 213 123 134",
                  //     },
                  //     image: "../headshots/2.jpg",
                  //     children: [
                  //         {
                  //             text:{
                  //                 name: "Joe Linux",
                  //                 title: "Chief Technology Officer",
                  //             },
                  //             image: "../headshots/1.jpg",
                  //             HTMLclass: 'light-gray',
                  //             children: [
                  //                 {
                  //                     text:{
                  //                         name: "Ron Blomquist",
                  //                         title: "Chief Information Security Officer"
                  //                     },
                  //                     HTMLclass: 'light-gray',
                  //                     image: "../headshots/8.jpg"
                  //                 },
                  //                 {
                  //                     text:{
                  //                         name: "Michael Rubin",
                  //                         title: "Chief Innovation Officer",
                  //                         contact: "we@aregreat.com"
                  //                     },
                  //                     HTMLclass: 'light-gray',
                  //                     image: "../headshots/9.jpg"
                  //                 }
                  //             ]
                  //         },
                  //         {
                  //             childrenDropLevel: 2,
                  //             text:{
                  //                 name: "Linda May",
                  //                 title: "Chief Business Officer",
                  //             },
                  //             HTMLclass: 'blue',
                  //             image: "../headshots/5.jpg",
                  //             children: [
                  //                 {
                  //                     text:{
                  //                         name: "Alice Lopez",
                  //                         title: "Chief Communications Officer"
                  //                     },
                  //                     HTMLclass: 'blue',
                  //                     image: "../headshots/7.jpg"
                  //                 },
                  //                 {
                  //                     text:{
                  //                         name: "Mary Johnson",
                  //                         title: "Chief Brand Officer"
                  //                     },
                  //                     HTMLclass: 'blue',
                  //                     image: "../headshots/4.jpg"
                  //                 },
                  //                 {
                  //                     text:{
                  //                         name: "Kirk Douglas",
                  //                         title: "Chief Business Development Officer"
                  //                     },
                  //                     HTMLclass: 'blue',
                  //                     image: "../headshots/11.jpg"
                  //                 }
                  //             ]
                  //         },
                  //         {
                  //             text:{
                  //                 name: "John Green",
                  //                 title: "Chief accounting officer",
                  //                 contact: "Tel: 01 213 123 134",
                  //             },
                  //             HTMLclass: 'gray',
                  //             image: "../headshots/6.jpg",
                  //             children: [
                  //                 {
                  //                     text:{
                  //                         name: "Erica Reel",
                  //                         title: "Chief Customer Officer"
                  //                     },
                  //                     link: {
                  //                         href: "http://www.google.com"
                  //                     },
                  //                     HTMLclass: 'gray',
                  //                     image: "../headshots/10.jpg"
                  //                 }
                  //             ]
                  //         }
                  //     ]
                  // }
                  nodeStructure: <%= @json.to_json.html_safe %>
              };

          new Treant( chart_config );
        </script>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="card">
        <div class="card-header" data-background-color="purple">
          <h4 class="title">
            <%= t :manager, managed: "Food Tree" %>
          </h4>
          <p class="category"><%= t ".category_tree"%></p>
        </div>
        <div class="card-content table-responsive">
           <div class="chart" id="custom-colored-tree"> --@-- </div>
              <script>

              var chart_config = {
                  chart: {
                      container: "#custom-colored-tree",

                      nodeAlign: "BOTTOM",

                      connectors: {
                          type: 'step'
                      },
                      node: {
                          HTMLclass: 'nodeExample1'
                      }
                  },
                  // nodeStructure: {
                  //     text: {
                  //         name: "Mark Hill",
                  //         title: "Chief executive officer",
                  //         contact: "Tel: 01 213 123 134",
                  //     },
                  //     image: "../headshots/2.jpg",
                  //     children: [
                  //         {
                  //             text:{
                  //                 name: "Joe Linux",
                  //                 title: "Chief Technology Officer",
                  //             },
                  //             image: "../headshots/1.jpg",
                  //             HTMLclass: 'light-gray',
                  //             children: [
                  //                 {
                  //                     text:{
                  //                         name: "Ron Blomquist",
                  //                         title: "Chief Information Security Officer"
                  //                     },
                  //                     HTMLclass: 'light-gray',
                  //                     image: "../headshots/8.jpg"
                  //                 },
                  //                 {
                  //                     text:{
                  //                         name: "Michael Rubin",
                  //                         title: "Chief Innovation Officer",
                  //                         contact: "we@aregreat.com"
                  //                     },
                  //                     HTMLclass: 'light-gray',
                  //                     image: "../headshots/9.jpg"
                  //                 }
                  //             ]
                  //         },
                  //         {
                  //             childrenDropLevel: 2,
                  //             text:{
                  //                 name: "Linda May",
                  //                 title: "Chief Business Officer",
                  //             },
                  //             HTMLclass: 'blue',
                  //             image: "../headshots/5.jpg",
                  //             children: [
                  //                 {
                  //                     text:{
                  //                         name: "Alice Lopez",
                  //                         title: "Chief Communications Officer"
                  //                     },
                  //                     HTMLclass: 'blue',
                  //                     image: "../headshots/7.jpg"
                  //                 },
                  //                 {
                  //                     text:{
                  //                         name: "Mary Johnson",
                  //                         title: "Chief Brand Officer"
                  //                     },
                  //                     HTMLclass: 'blue',
                  //                     image: "../headshots/4.jpg"
                  //                 },
                  //                 {
                  //                     text:{
                  //                         name: "Kirk Douglas",
                  //                         title: "Chief Business Development Officer"
                  //                     },
                  //                     HTMLclass: 'blue',
                  //                     image: "../headshots/11.jpg"
                  //                 }
                  //             ]
                  //         },
                  //         {
                  //             text:{
                  //                 name: "John Green",
                  //                 title: "Chief accounting officer",
                  //                 contact: "Tel: 01 213 123 134",
                  //             },
                  //             HTMLclass: 'gray',
                  //             image: "../headshots/6.jpg",
                  //             children: [
                  //                 {
                  //                     text:{
                  //                         name: "Erica Reel",
                  //                         title: "Chief Customer Officer"
                  //                     },
                  //                     link: {
                  //                         href: "http://www.google.com"
                  //                     },
                  //                     HTMLclass: 'gray',
                  //                     image: "../headshots/10.jpg"
                  //                 }
                  //             ]
                  //         }
                  //     ]
                  // }
                  nodeStructure: <%= @json1.to_json.html_safe %>
              };

          new Treant( chart_config );
        </script>
        </div>
      </div>
    </div>
  </div>
</div>
<%= provide :modal, reder_form_category %>
